services:
  openclaw:
    image: h4x3rotab/openclaw-cvm@sha256:3b6b3f50cbc8afe648fb45d321529e25d2f8862b0cf64d0599719b40a515c04e
    # For local builds, uncomment below and comment out image:
    # build:
    #   context: ..
    #   dockerfile: phala-deploy/Dockerfile
    container_name: openclaw
    privileged: true
    ports:
      - "1022:22"
      - "18789:18789"
    volumes:
      - /home/root/.ssh:/root/.ssh:ro
      - openclaw_state:/data/openclaw
      - docker_data:/var/lib/docker
    environment:
      OPENCLAW_STATE_DIR: /data/openclaw
      NODE_ENV: production
    restart: unless-stopped

volumes:
  openclaw_state:
  docker_data:
